import type { Pellet, Player } from '../types';

export const maze = [
  '############################',
  '#............##............#',
  '#.####.#####.##.#####.####.#',
  '#o####.#####.##.#####.####o#',
  '#.####.#####.##.#####.####.#',
  '#..... ....................#',
  '#.####.##.########.##.####.#',
  '#.####.##.########.##.####.#',
  '#......##....##....##......#',
  '######.##### ## #####.######',
  '     #.##### ## #####.#     ',
  '     #.##          ##.#     ',
  '     #.## ###GG### ##.#     ',
  '######.## #      # ##.######',
  '      .   #      #   .      ',
  '######.## #      # ##.######',
  '     #.## ######## ##.#     ',
  '     #.##          ##.#     ',
  '     #.## ######## ##.#     ',
  '######.## ######## ##.######',
  '#............##............#',
  '#.####.#####.##.#####.####.#',
  '#o####.#####.##.#####.####o#',
  '#...##................##...#',
  '###.##.##.########.##.##.###',
  '###.##.##.########.##.##.###',
  '#......##....##....##......#',
  '#.##########.##.##########.#',
  '#.##########.##.##########.#',
  '#..........................#',
  '############################',
];

export const pelletCoords: Pellet[] = maze.flatMap(
  (row, y) =>
    [...row].flatMap((cell, x) => (cell === '.' ? [[x, y]] : [])) as Pellet[],
);
export const powerPelletCoords: Pellet[] = maze.flatMap(
  (row, y) =>
    [...row].flatMap((cell, x) => (cell === 'o' ? [[x, y]] : [])) as Pellet[],
);

export const directions: Record<string, Player['dir']> = {
  ArrowLeft: 'left',
  ArrowRight: 'right',
  ArrowUp: 'up',
  ArrowDown: 'down',
};

export const dirFactor = {
  up: { idx: 1, val: -1 },
  down: { idx: 1, val: 1 },
  left: { idx: 0, val: -1 },
  right: { idx: 0, val: 1 },
};
